const { BaseError } = require("../middlewares/appError");

const dateFormatCheck = async (date) => {
  const dateRegex =
    /^(19[0-9][0-9]|20\d{2})-(0[0-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/;
  if (!dateRegex.test(date)) {
    throw new BaseError("INVALID_DATE", 400);
  }
};

const isNotPast = async (date) => {
  const today = new Date();
  console.log(today);
  if (date < today) {
    throw new BaseError("INVALID_DATE", 400);
  }
};

module.exports = { dateFormatCheck, isNotPast };
